<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="北海虽赊，扶摇可接" href="https://metal-heart.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="北海虽赊，扶摇可接" href="https://metal-heart.github.io/atom.xml"><link rel="alternate" type="application/json" title="北海虽赊，扶摇可接" href="https://metal-heart.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Git"><link rel="canonical" href="https://metal-heart.github.io/posts/f34ad4cd/"><title>如何优雅的玩转 Git - Git - 工具 | Metalheart = 北海虽赊，扶摇可接 = 「 勇敢者是到处有路可走的 」</title><meta name="generator" content="Hexo 5.4.2"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">如何优雅的玩转 Git</h1><div class="meta"><span class="item" title="创建时间：2020-03-09 00:25:13"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2020-03-09T00:25:13+08:00">2020-03-09</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>12k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>11 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Metalheart</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://s1.ax1x.com/2023/01/09//pSZvhFK.png"></li><li class="item" data-background-image="https://s1.ax1x.com/2023/01/09//pSZv4JO.png"></li><li class="item" data-background-image="https://s1.ax1x.com/2023/01/09//pSZvKdP.jpg"></li><li class="item" data-background-image="https://s1.ax1x.com/2023/01/09//pSZv2e1.jpg"></li><li class="item" data-background-image="https://s1.ax1x.com/2023/01/09//pSZv5WD.png"></li><li class="item" data-background-image="https://s1.ax1x.com/2023/01/09//pSZv1JS.jpg"></li></ul></div><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div></header><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Tool/" itemprop="item" rel="index" title="分类于 工具"><span itemprop="name">工具</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Tool/Git/" itemprop="item" rel="index" title="分类于 Git"><span itemprop="name">Git</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://metal-heart.github.io/posts/f34ad4cd/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Metal-Heart"><meta itemprop="description" content="「 勇敢者是到处有路可走的 」, 老实是人生绝妙的法宝。虽然对人老实，你可能付出一定的代价，但日后你得到的，远比付出的多得多。"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="北海虽赊，扶摇可接"></span><div class="body md" itemprop="articleBody"><p>V</p><h1 id="如何优雅的玩转-git"><a class="anchor" href="#如何优雅的玩转-git">#</a> 如何优雅的玩转 Git</h1><h2 id="git-简介"><a class="anchor" href="#git-简介">#</a> Git 简介</h2><h3 id="git-是什么"><a class="anchor" href="#git-是什么">#</a> Git 是什么</h3><p>Git 是一个开源的分布式版本控制系统。</p><p>Git 和其它版本控制系统（包括 Subversion 和近似工具）的主要差别在于 Git 对待数据的方式。 从概念上来说，其它大部分系统以文件变更列表的方式存储信息，而 Git 是把数据看作是对小型文件系统的一系列快照。</p><h3 id="什么是版本控制"><a class="anchor" href="#什么是版本控制">#</a> 什么是版本控制</h3><p>版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。</p><h4 id="集中化的版本控制系统"><a class="anchor" href="#集中化的版本控制系统">#</a> 集中化的版本控制系统</h4><p>介绍分布式版本控制系统前，有必要先了解一下传统的集中式版本控制系统。</p><p><strong>集中化的版本控制系统</strong>，诸如 CVS，Subversion 等，都有一个单一的集中管理的服务器，保存所有文件的修订版本，而协同工作的人们都通过客户端连到这台服务器，取出最新的文件或者提交更新。</p><p>这么做最显而易见的缺点是中央服务器的单点故障。如果宕机一小时，那么在这一小时内，谁都无法提交更新，也就无法协同工作。要是中央服务器的磁盘发生故障，碰巧没做备份，或者备份不够及时，就会有丢失数据的风险。最坏的情况是彻底丢失整个项目的所有历史更改记录。</p><p><img data-src="https://git-scm.com/figures/18333fig0102-tn.png" alt="img"></p><h4 id="分布式版本控制系统"><a class="anchor" href="#分布式版本控制系统">#</a> 分布式版本控制系统</h4><p><strong>分布式版本控制系统</strong>的客户端并不只提取最新版本的文件快照，而是把代码仓库完整地镜像下来。这么一来，任何一处协同工作用的服务器发生故障，事后都可以用任何一个镜像出来的本地仓库恢复。因为每一次的提取操作，实际上都是一次对代码仓库的完整备份。</p><p><img data-src="https://git-scm.com/figures/18333fig0103-tn.png" alt="img"></p><h3 id="为什么使用-git"><a class="anchor" href="#为什么使用-git">#</a> 为什么使用 Git</h3><p>Git 是分布式的。这是 Git 和其它非分布式的版本控制系统（例如 svn，cvs 等），最核心的区别。分布式带来以下好处：</p><ul><li><strong>工作时不需要联网</strong> - 首先，分布式版本控制系统根本没有 “中央服务器”，每个人的电脑上都是一个完整的版本库，这样，你工作的时候，就不需要联网了，因为版本库就在你自己的电脑上。既然每个人电脑上都有一个完整的版本库，那多个人如何协作呢？比方说你在自己电脑上改了文件 A，你的同事也在他的电脑上改了文件 A，这时，你们俩之间只需把各自的修改推送给对方，就可以互相看到对方的修改了。</li><li><strong>更加安全</strong><ul><li>集中式版本控制系统，一旦中央服务器出了问题，所有人都无法工作。</li><li>分布式版本控制系统，每个人电脑中都有完整的版本库，所以某人的机器挂了，并不影响其它人。</li></ul></li></ul><h3 id="git-的工作原理"><a class="anchor" href="#git-的工作原理">#</a> Git 的工作原理</h3><p>个人认为，对于 Git 这个版本工具，再不了解原理的情况下，直接去学习命令行，可能会一头雾水。所以，本文特意将原理放在命令使用章节之前讲解。</p><h4 id="版本库"><a class="anchor" href="#版本库">#</a> 版本库</h4><p>当你一个项目到本地或创建一个 git 项目，项目目录下会有一个隐藏的 <code>.git</code> 子目录。这个目录是 git 用来跟踪管理版本库的，如果不熟悉其工作机制，千万不要手动修改。</p><p><img data-src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20210419093855.png" alt="img"></p><ul><li><code>hooks</code> 目录：包含客户端或服务端的钩子脚本（hook scripts）</li><li><code>info</code> 目录：包含一个全局性排除（global exclude）文件， 用以放置那些不希望被记录在 <code>.gitignore</code> 文件中的忽略模式（ignored patterns）。</li><li><code>objects</code> 目录：存储所有数据内容。</li><li><code>refs</code> 目录：存储指向数据（分支、远程仓库和标签等）的提交对象的指针</li><li><code>HEAD</code> 文件：指向目前被检出的分支。</li><li><code>index</code> 文件保存暂存区信息。</li><li><code>config</code> 文件：包含项目特有的配置选项。</li><li><code>description</code> 文件： <code>description</code> 文件仅供 GitWeb 程序使用，我们无需关心。</li></ul><h4 id="哈希值"><a class="anchor" href="#哈希值">#</a> 哈希值</h4><p>Git 中所有数据在存储前都计算校验和，然后以校验和来引用。 这意味着不可能在 Git 不知情时更改任何文件内容或目录内容。 这个功能构筑在 Git 底层，是 Git 的关键组件。 若你在传送过程中丢失信息或损坏文件，Git 就能发现。</p><p>Git 计算校验和的使用 SHA-1 哈希算法。 这是一个由 40 个十六进制字符（0-9 和 a-f）组成字符串，基于 Git 中文件的内容或目录结构计算出来。 SHA-1 哈希值看起来是这样：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>24b9da6552252987aa493b52f8696cd6d3b00373</pre></td></tr></table></figure><p>Git 中使用这种哈希值的情况很多，你将经常看到这种哈希值。 实际上，Git 数据库中保存的信息都是以文件内容的哈希值来索引，而不是文件名。</p><h4 id="文件状态"><a class="anchor" href="#文件状态">#</a> 文件状态</h4><p>在 GIt 中，你的文件可能会处于三种状态之一：</p><ul><li><strong>已修改（modified）</strong> - 已修改表示修改了文件，但还没保存到数据库中。</li><li><strong>已暂存（staged）</strong> - 已暂存表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中。</li><li><strong>已提交（committed）</strong> - 已提交表示数据已经安全的保存在本地数据库中。</li></ul><h4 id="工作区域"><a class="anchor" href="#工作区域">#</a> 工作区域</h4><p>与文件状态对应的，不同状态的文件在 Git 中处于不同的工作区域。</p><ul><li><strong>工作区（working）</strong> - 当你 <code>git clone</code> 一个项目到本地，相当于在本地克隆了项目的一个副本。工作区是对项目的某个版本独立提取出来的内容。 这些从 Git 仓库的压缩数据库中提取出来的文件，放在磁盘上供你使用或修改。</li><li><strong>暂存区（staging）</strong> - 暂存区是一个文件，保存了下次将提交的文件列表信息，一般在 Git 仓库目录中。 有时候也被称作 `‘索引’'，不过一般说法还是叫暂存区。</li><li><strong>本地仓库（local）</strong> - 提交更新，找到暂存区域的文件，将快照永久性存储到 Git 本地仓库。</li><li><strong>远程仓库（remote）</strong> - 以上几个工作区都是在本地。为了让别人可以看到你的修改，你需要将你的更新推送到远程仓库。同理，如果你想同步别人的修改，你需要从远程仓库拉取更新。</li></ul><p><img data-src="https://raw.githubusercontent.com/dunwu/images/dev/cs/web/git/git-theory.png" alt="img"></p><h2 id="分支管理"><a class="anchor" href="#分支管理">#</a> 分支管理</h2><h3 id="git-flow"><a class="anchor" href="#git-flow">#</a> Git Flow</h3><p>Git Flow 应该是目前流传最广的 Git 分支管理策略。Git Flow 围绕的核心点是版本发布（release），它适用于迭代版本较长的项目。</p><blockquote><p><img data-src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20210419110634.png" alt="img"></p></blockquote><blockquote><p>详细内容，可以参考这篇文章：<span class="exturl" data-url="aHR0cDovL3d3dy5jbmJsb2dzLmNvbS9jbmJsb2dzZmFucy9wLzUwNzUwNzMuaHRtbA==">Git 在团队中的最佳实践 -- 如何正确使用 Git Flow</span></p></blockquote><p>Git Flow 常用分支：</p><ul><li><strong><code>master</code> </strong>- 主线分支</li><li><strong><code>develop</code> </strong>- 开发分支</li><li><strong><code>feature</code> </strong>- 特性分支</li><li><strong><code>release</code> </strong>- 发布分支</li><li><strong><code>hotfix</code> </strong>- 问题修复分支</li></ul><p>Git Flow 工作流程</p><h4 id="21-主干分支"><a class="anchor" href="#21-主干分支">#</a> 2.1. 主干分支</h4><p><img data-src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20210419113532.png" alt="img"></p><p>主干分支有两个，它们是伴随着项目生命周期长期存在的分支。</p><ul><li><code>master</code> - 这个分支对应发布到生产环境的代码。这个分支<strong>只允许从其他分支合入代码</strong>，不能在这个分支直接修改。所有在 master 分支上的 Commit 都应该打 Tag。</li><li><code>develop</code> - 这个分支包含所有要发布到下一个 release 的代码，这个分支<strong>主要是从其他分支合入代码</strong>，比如 feature 分支。</li></ul><h4 id="22-feature-分支"><a class="anchor" href="#22-feature-分支">#</a> 2.2. <code>feature</code> 分支</h4><p>这个分支主要是用来开发一个新的功能，一旦开发完成，我们合并回 develop 分支进入下一个 release。feature 分支开发结束后，必须合并回 develop 分支，合并完分支后一般会删点这个 feature 分支，但是我们也可以保留。</p><p><img data-src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20210419114042.png" alt="img"></p><h4 id="23-release-分支"><a class="anchor" href="#23-release-分支">#</a> 2.3. <strong><code>release</code> 分支</strong></h4><p>release 分支基于 develop 分支创建，创建后，我们可以在这个 release 分支上进行测试，修复 Bug 等工作。同时，其它开发人员可以基于它开发新的 feature (记住：一旦创建了 release 分支之后不要从 develop 分支上合并新的改动到 release 分支)。</p><p>发布 release 分支时，合并 release 到 master 和 develop， 同时在 master 分支上打个 Tag 记住 release 版本号，然后可以删除 release 分支了。</p><h4 id="24-hotfix-分支"><a class="anchor" href="#24-hotfix-分支">#</a> 2.4. <code>hotfix</code> 分支</h4><p>当出现线上 bug 时，也意味着 master 存在 Bug。这时，我们需要基于 master 创建一个 hotfix 分支，在此分支上完成 bug 修复。修复后，我们应该将此分支合并回 master 和 develop 分支，同时在 master 上打一个 tag。所以，hotfix 的改动会进入下一个 release。</p><p><img data-src="https://nvie.com/img/hotfix-branches@2x.png" alt="img"></p><h4 id="25-如何应用-git-flow"><a class="anchor" href="#25-如何应用-git-flow">#</a> 2.5. 如何应用 Git Flow</h4><p>在实际开发中，如何具体落地 Git Flow 流程呢？</p><p>git 提供了 <code>git flow</code> 命令来手动管理，但是比较麻烦，所以还是建议使用 Git Flow 的 GUI 工具。比如：<span class="exturl" data-url="aHR0cHM6Ly93d3cuc291cmNldHJlZWFwcC5jb20v">SourceTree</span>、<span class="exturl" data-url="aHR0cHM6Ly9tYXJrZXRwbGFjZS52aXN1YWxzdHVkaW8uY29tL2l0ZW1zP2l0ZW1OYW1lPXZzLXB1Ymxpc2hlci01NzYyNC5HaXRGbG93Zm9yVmlzdWFsU3R1ZGlv">VScode 的 GitFlow 插件</span>、Intellij 的 GitFlow 插件等。</p><blockquote><p>想了解更详细的 Git Flow 介绍，可以参考：</p><p><span class="exturl" data-url="aHR0cDovL252aWUuY29tL3Bvc3RzL2Etc3VjY2Vzc2Z1bC1naXQtYnJhbmNoaW5nLW1vZGVsLw==">A Successful Git Branching Model</span></p><p><span class="exturl" data-url="aHR0cDovL3d3dy5jbmJsb2dzLmNvbS9jbmJsb2dzZmFucy9wLzUwNzUwNzMuaHRtbA==">Git 在团队中的最佳实践 -- 如何正确使用 Git Flow</span></p></blockquote><h3 id="github-flow"><a class="anchor" href="#github-flow">#</a> Github Flow</h3><p>对于简单且迭代频繁的项目来说，Git Flow 可能有些太复杂了。这时，可以考虑 Github Flow。</p><p>在 Github Flow 策略中，所有分支都是基于 master 创建。在 Feature 或 Bugfix 分支中完成工作后，将其合入 master，然后继续迭代。</p><p><img data-src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20210420194518.png" alt="img"></p><blockquote><p>想了解更详细的 Github Flow 介绍，可以参考：<span class="exturl" data-url="aHR0cDovL3Njb3R0Y2hhY29uLmNvbS8yMDExLzA4LzMxL2dpdGh1Yi1mbG93Lmh0bWw=">GitHub Flow</span></p></blockquote><h2 id="git-commit-规范"><a class="anchor" href="#git-commit-规范">#</a> Git Commit 规范</h2><p>Git 每次提交代码，都要写 Commit message（提交说明），否则就不允许提交。</p><p>好的 Commit message 可以让人一眼就明白提交者修改了什么内容，有什么影响；而不好的 Commit message 写了和没写一样，甚至还可能误导别人。</p><p>先来看下图中不好的 Commit message 范例，从提交信息完全看不出来修改了什么。</p><p><img data-src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20210420152215.png" alt="img"></p><p>再来一张较好的 Commit message 范例，每次提交的是什么内容，做了什么一目了然。</p><p><img data-src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20210420151352.png" alt="img"></p><h3 id="commit-message-的作用"><a class="anchor" href="#commit-message-的作用">#</a> Commit message 的作用</h3><p>从前面，我们不难看出，完善的 Commit message 非常有利于项目维护。即时是个人维护的项目，时间久了，可能也会忘记当初自己改了什么。</p><p>Commit message 的作用还不仅仅是理解历史信息，它的主要作用如下：</p><p>（1）提供易于理解的历史信息，方便检索</p><p>（2）可以过滤某些 commit（比如文档改动），便于快速查找信息。</p><p>（3）可以直接从 commit 生成 Change log。</p><h3 id="commit-message-的规范"><a class="anchor" href="#commit-message-的规范">#</a> Commit message 的规范</h3><p>开源社区有很多 Commit message 的规范，个人推荐使用 <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xUXJERmNJaVBqU0xEbjNFTDE1SUp5Z05QaUhPUmdVMV9PT0FxV2ppRFU1WS9lZGl0I2hlYWRpbmc9aC5ncmVsamttbzE0eTA=">Angular Git Commit 规范</span>，这是目前使用最广的写法，比较合理和系统化，并且有配套的工具。</p><p>它主要有以下组成部分：</p><ul><li>标题行：必填，描述主要修改类型和内容</li><li>主题内容：描述为什么修改，做了什么样的修改，以及开发的思路等等</li><li>页脚注释：放 Breaking Changes 或 Closed Issues</li></ul><p>常用的修改项</p><ul><li><code>type</code> ：commit 的类型</li><li><code>feat</code> ：新特性</li><li><code>fix</code> ：修改问题</li><li><code>refactor</code> ：代码重构</li><li><code>docs</code> ：文档修改</li><li><code>style</code> ：代码格式修改，注意不是 css 修改</li><li><code>test</code> ：测试用例修改</li><li><code>chore</code> ：其他修改，比如构建流程，依赖管理.</li><li><code>scope</code> ：commit 影响的范围，比如：route, component, utils, build...</li><li><code>subject</code> ：commit 的概述</li><li><code>body</code> ：commit 具体修改内容，可以分为多行</li><li><code>footer</code> ：一些备注，通常是 BREAKING CHANGE 或修复的 bug 的链接</li></ul><h3 id="git-commit-template"><a class="anchor" href="#git-commit-template">#</a> Git Commit Template</h3><p>Intellij 中有集成 <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xUXJERmNJaVBqU0xEbjNFTDE1SUp5Z05QaUhPUmdVMV9PT0FxV2ppRFU1WS9lZGl0I2hlYWRpbmc9aC5ncmVsamttbzE0eTA=">Angular Git Commit 规范</span> 的插件，可以帮助我们快速创建符合 <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xUXJERmNJaVBqU0xEbjNFTDE1SUp5Z05QaUhPUmdVMV9PT0FxV2ppRFU1WS9lZGl0I2hlYWRpbmc9aC5ncmVsamttbzE0eTA=">Angular Git Commit 规范</span> 的 Git Commit Message。</p><p>其使用步骤如下：</p><p>第一步，安装插件</p><p><img data-src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20210419145223.png" alt="img"></p><p>第二步，提交代码时，按照模板填写 commit message</p><p><img data-src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20210419145327.png" alt="img"></p><h3 id="生成-change-log"><a class="anchor" href="#生成-change-log">#</a> 生成 Change log</h3><p>如果你的所有 Commit 都符合 <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xUXJERmNJaVBqU0xEbjNFTDE1SUp5Z05QaUhPUmdVMV9PT0FxV2ppRFU1WS9lZGl0I2hlYWRpbmc9aC5ncmVsamttbzE0eTA=">Angular Git Commit 规范</span>，那么发布新版本时，就可以用脚本自动生成 Change log。</p><p>生成的文档包括以下三个部分。</p><ul><li>New features</li><li>Bug fixes</li><li>Breaking changes.</li></ul><p>每个部分都会罗列相关的 commit ，并且有指向这些 commit 的链接。当然，生成的文档允许手动修改，所以发布前，你还可以添加其他内容。</p><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Fqb3NsaW4vY29udmVudGlvbmFsLWNoYW5nZWxvZw==">conventional-changelog</span> 就是生成 Change log 的工具，运行下面的命令即可。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> conventional-changelog</pre></td></tr><tr><td data-num="2"></td><td><pre>$ <span class="token builtin class-name">cd</span> my-project</pre></td></tr><tr><td data-num="3"></td><td><pre>$ conventional-changelog <span class="token parameter variable">-p</span> angular <span class="token parameter variable">-i</span> CHANGELOG.md <span class="token parameter variable">-w</span></pre></td></tr></table></figure><p>上面命令不会覆盖以前的 Change log，只会在 <code>CHANGELOG.md</code> 的头部加上自从上次发布以来的变动。</p><p>如果你想生成所有发布的 Change log，要改为运行下面的命令。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ conventional-changelog <span class="token parameter variable">-p</span> angular <span class="token parameter variable">-i</span> CHANGELOG.md <span class="token parameter variable">-w</span> <span class="token parameter variable">-r</span> <span class="token number">0</span></pre></td></tr></table></figure><p>为了方便使用，可以将其写入 <code>package.json</code> 的 <code>scripts</code> 字段。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token string-property property">"changelog"</span><span class="token operator">:</span> <span class="token string">"conventional-changelog -p angular -i CHANGELOG.md -w -r 0"</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>以后，直接运行下面的命令即可。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token function">npm</span> run changelog</pre></td></tr></table></figure><h2 id="git-奇技淫巧"><a class="anchor" href="#git-奇技淫巧">#</a> Git 奇技淫巧</h2><h3 id="生成-ssh-公钥"><a class="anchor" href="#生成-ssh-公钥">#</a> 生成 SSH 公钥</h3><p>许多 Git 服务器都使用 SSH 公钥进行认证。 为了向 Git 服务器提供 SSH 公钥，如果某系统用户尚未拥有密钥，必须事先为其生成一份。 这个过程在所有操作系统上都是相似的。 首先，你需要确认自己是否已经拥有密钥。 默认情况下，用户的 SSH 密钥存储在其 <code>~/.ssh</code> 目录下。 进入该目录并列出其中内容，你便可以快速确认自己是否已拥有密钥：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token builtin class-name">cd</span> ~/.ssh</pre></td></tr><tr><td data-num="2"></td><td><pre>$ <span class="token function">ls</span></pre></td></tr><tr><td data-num="3"></td><td><pre>authorized_keys2  id_dsa       known_hosts</pre></td></tr><tr><td data-num="4"></td><td><pre>config            id_dsa.pub</pre></td></tr></table></figure><p>我们需要寻找一对以 <code>id_dsa</code> 或 <code>id_rsa</code> 命名的文件，其中一个带有 <code>.pub</code> 扩展名。 <code>.pub</code> 文件是你的公钥，另一个则是私钥。 如果找不到这样的文件（或者根本没有 <code>.ssh</code> 目录），你可以通过运行 <code>ssh-keygen</code> 程序来创建它们。在 Linux/Mac 系统中， <code>ssh-keygen</code> 随 SSH 软件包提供；在 Windows 上，该程序包含于 MSysGit 软件包中。</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ ssh-keygen</pre></td></tr><tr><td data-num="2"></td><td><pre>Generating public/private rsa key pair.</pre></td></tr><tr><td data-num="3"></td><td><pre>Enter <span class="token function">file</span> <span class="token keyword">in</span> <span class="token function">which</span> to save the key <span class="token punctuation">(</span>/home/schacon/.ssh/id_rsa<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="4"></td><td><pre>Created directory <span class="token string">'/home/schacon/.ssh'</span><span class="token builtin class-name">.</span></pre></td></tr><tr><td data-num="5"></td><td><pre>Enter passphrase <span class="token punctuation">(</span>empty <span class="token keyword">for</span> no passphrase<span class="token punctuation">)</span>:</pre></td></tr><tr><td data-num="6"></td><td><pre>Enter same passphrase again:</pre></td></tr><tr><td data-num="7"></td><td><pre>Your identification has been saved <span class="token keyword">in</span> /home/schacon/.ssh/id_rsa.</pre></td></tr><tr><td data-num="8"></td><td><pre>Your public key has been saved <span class="token keyword">in</span> /home/schacon/.ssh/id_rsa.pub.</pre></td></tr><tr><td data-num="9"></td><td><pre>The key fingerprint is:</pre></td></tr><tr><td data-num="10"></td><td><pre>d0:82:24:8e:d7:f1:bb:9b:33:53:96:93:49:da:9b:e3 schacon@mylaptop.local</pre></td></tr></table></figure><p>首先 <code>ssh-keygen</code> 会确认密钥的存储位置（默认是 <code>.ssh/id_rsa</code> ），然后它会要求你输入两次密钥口令。如果你不想在使用密钥时输入口令，将其留空即可。</p><p>现在，进行了上述操作的用户需要将各自的公钥发送给任意一个 Git 服务器管理员（假设服务器正在使用基于公钥的 SSH 验证设置）。 他们所要做的就是复制各自的 <code>.pub</code> 文件内容，并将其通过邮件发送。 公钥看起来是这样的：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token function">cat</span> ~/.ssh/id_rsa.pub</pre></td></tr><tr><td data-num="2"></td><td><pre>ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU</pre></td></tr><tr><td data-num="3"></td><td><pre>GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3</pre></td></tr><tr><td data-num="4"></td><td><pre>Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA</pre></td></tr><tr><td data-num="5"></td><td><pre>t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En</pre></td></tr><tr><td data-num="6"></td><td><pre>mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx</pre></td></tr><tr><td data-num="7"></td><td><pre>NrRFi9wrf+M7Q<span class="token operator">==</span> schacon@mylaptop.local</pre></td></tr></table></figure><p>在你的 Github 账户中，依次点击 <strong>Settings</strong> &gt; <strong>SSH and GPG keys</strong> &gt; <strong>New SSH key</strong></p><p>然后，将上面生成的公钥内容粘贴到 <code>Key</code> 编辑框并保存。至此大功告成。</p><p>后面，你在克隆你的 Github 项目时使用 SSH 方式即可。</p><p>如果觉得我的讲解还不够细致，可以参考：<span class="exturl" data-url="aHR0cHM6Ly9oZWxwLmdpdGh1Yi5jb20vYXJ0aWNsZXMvYWRkaW5nLWEtbmV3LXNzaC1rZXktdG8teW91ci1naXRodWItYWNjb3VudC8=">adding-a-new-ssh-key-to-your-github-account</span></p><h3 id="使用-gitignore-忽略不必提交内容"><a class="anchor" href="#使用-gitignore-忽略不必提交内容">#</a> 使用 .gitignore 忽略不必提交内容</h3><p><code>.gitignore</code> 文件可能从字面含义也不难猜出：这个文件里配置的文件或目录，会自动被 git 所忽略，不纳入版本控制。</p><p>在日常开发中，我们的项目经常会产生一些临时文件，如编译 Java 产生的 <code>*.class</code> 文件，又或是 IDE 自动生成的隐藏目录（Intellij 的 <code>.idea</code> 目录、Eclipse 的 <code>.settings</code> 目录等）等等。这些文件或目录实在没必要纳入版本管理。在这种场景下，你就需要用到 <code>.gitignore</code> 配置来过滤这些文件或目录。</p><p><code>.gitignore</code> 配置的规则很简单，也没什么可说的，看几个例子，自然就明白了。</p><p>【示例】一份 Java 的 .gitignore</p><pre><code># Compiled class file
*.class

# Log file
*.log

# BlueJ files
*.ctxt

# Mobile Tools for Java (J2ME)
.mtj.tmp/

# Package Files #
*.jar
*.war
*.nar
*.ear
*.zip
*.tar.gz
*.rar

# virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml
hs_err_pid*
</code></pre><blockquote><p>【推荐】这里推荐一个 Github 的开源项目：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2dpdGh1Yi9naXRpZ25vcmU=">gitignore</span>，在这里，你可以找到很多常用的 .gitignore 模板，如：Java、Nodejs、C++ 的 <code>.gitignore</code> 模板等等。</p></blockquote><h3 id="使用-gitattributes-解决-lf-和-crlf-问题"><a class="anchor" href="#使用-gitattributes-解决-lf-和-crlf-问题">#</a> 使用 .gitattributes 解决 LF 和 CRLF 问题</h3><p>你有没有在和多人协同开发时遇到过以下烦恼？</p><p>开发者们分别使用不同的操作系统进行开发，有的人用 Windows，有的人用 Linux/MacOS。众所周知，不同操作系统默认的文件结尾行是不同的：在 Windows 上默认的是回车换行（Carriage Return Line Feed, CRLF），然而，在 Linux/MacOS 上则是换行（Line Feed, LF）。这就可能导致这种情况：明明文件内容一模一样，但是版本比对时仍然存在版本差异。</p><p>那么如何解决这个问题呢？Git 提供了 <code>.gitattributes</code> 配置文件，它允许使用者指定由 git 使用的文件和路径的属性。</p><p>在 Git 库中，一个普通文本文件的行尾默认是 <code>LF</code> 。对于工作目录，除了 <code>text</code> 属性之外，还可以设置 <code>eol</code> 属性或 <code>core.eol</code> 配置变量。</p><p><code>.gitattributes</code> 文件中，可以用 text 属性指定某类文件或目录下的文件，控制它的行结束标准化。当一个文本文件被标准化时，它的行尾将在存储库中转换为 <code>LF</code> 。要控制工作目录中使用的行结束风格，请使用单个文件的 <code>eol</code> 属性和所有文本文件的 <code>core.eol</code> 配置变量。</p><p>【示例】一份 .gitattributes 示例</p><pre><code>* text=auto eol=lf

*.txt text
*.java text
*.scala text
*.groovy text
*.gradle text
*.properties text

# unix style
*.sh text eol=lf

# win style
*.bat text eol=crlf

# binary
*.jar binary
*.war binary
*.zip binary
*.tar binary
*.tar.gz binary
*.gz binary
*.apk binary
*.bin binary
*.exe binary
</code></pre><blockquote><p>【推荐】这里推荐一个 Github 的开源项目：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FsZXhrYXJhdGFyYWtpcy9naXRhdHRyaWJ1dGVz">gitignore</span>，在这里，你可以找到很多常用的 .gitignore 模板，如：Java、Nodejs、C++ 的 <code>.gitignore</code> 模板等等。</p></blockquote><h3 id="同时提交代码到不同的远程仓库"><a class="anchor" href="#同时提交代码到不同的远程仓库">#</a> 同时提交代码到不同的远程仓库</h3><p>如果，你在不同的 Git 远程仓库中维护同一个项目，你可能会有这样的需求：能不能一次提交，同时 push 到多个远程仓库中呢？</p><p>这个可以有，解决方案如下：</p><p>比如，我有一个 blog 项目，同时维护在 Github 和 Gitee 上。</p><p>（1）首先，在 Github 和 Gitee 上配置本地的 ssh 公钥（如果是 Gitlab，也同样如此），这样中央仓库就能识别本地。</p><p>生成 SSH 公钥的方法，请参考上文的 “生成 SSH 公钥” 章节。</p><p>（2）进入 git 项目的隐藏目录 <code>.git</code> ，打开 config 文件，参考下面配置进行编辑：</p><figure class="highlight ini"><figcaption data-lang="ini"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">core</span><span class="token punctuation">]</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token key attr-name">repositoryformatversion</span> <span class="token punctuation">=</span> <span class="token value attr-value">0</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token key attr-name">filemode</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token key attr-name">bare</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token key attr-name">logallrefupdates</span> <span class="token punctuation">=</span> <span class="token value attr-value">true</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token key attr-name">symlinks</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token key attr-name">ignorecase</span> <span class="token punctuation">=</span> <span class="token value attr-value">true</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">remote "origin"</span><span class="token punctuation">]</span></span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token key attr-name">url</span> <span class="token punctuation">=</span> <span class="token value attr-value">git@github.com:dunwu/blog.git</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token key attr-name">url</span> <span class="token punctuation">=</span> <span class="token value attr-value">git@gitee.com:turnon/blog.git</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token key attr-name">fetch</span> <span class="token punctuation">=</span> <span class="token value attr-value">+refs/heads/*:refs/remotes/origin/*</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">branch "master"</span><span class="token punctuation">]</span></span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token key attr-name">remote</span> <span class="token punctuation">=</span> <span class="token value attr-value">origin</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token key attr-name">merge</span> <span class="token punctuation">=</span> <span class="token value attr-value">refs/heads/master</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">user</span><span class="token punctuation">]</span></span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token key attr-name">name</span> <span class="token punctuation">=</span> <span class="token value attr-value">dunwu</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token key attr-name">email</span> <span class="token punctuation">=</span> <span class="token value attr-value">forbreak@163.com</span></pre></td></tr></table></figure><p>重点在于 <code>remote &quot;origin&quot;</code> ，同时配置了两个 url。配置后，一旦触发 push 远程仓库的动作，就会同时推送提交记录到配置的远程仓库。</p><h3 id="github-issue-和-gitlab-issue"><a class="anchor" href="#github-issue-和-gitlab-issue">#</a> Github Issue 和 Gitlab Issue</h3><p>开发软件，Bug 再所难免，出现问题不可怕，可怕的是放任不管；所以，优秀的软件项目，都应该管理好问题追踪。软件的使用者，在使用中，可能会遇到形形色色的问题，难以解决，需要向维护者寻求帮助。</p><p>问题追踪如此重要，所以各种代码托管平台都会提供 Issue 维护机制，如 Github Issue 和 Gitlab Issue。</p><p>如果一个项目的开源社区很活跃，在没有任何约束的前提下，提问肯定是五花八门的，让维护者难以招架。</p><p>其实，提问也是一门艺术，如果提问者的问题长篇大幅，言不达意，让别人难以理解，就很难得到有效帮助。关于如何高效的提问，推荐参考 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3J5YW5oYW53dS9Ib3ctVG8tQXNrLVF1ZXN0aW9ucy1UaGUtU21hcnQtV2F5">提问的智慧</span> 这篇文章，作者整理的非常好。</p><p>作为开发者，你不能期望所有提问者都是训练有素的提问者。所以，使用规范化的 Issue 模板来引导提问者提问，可以大大减轻开发者的负担。</p><h4 id="github-issue-模板"><a class="anchor" href="#github-issue-模板">#</a> Github Issue 模板</h4><p>如何在 Github Issue 平台上创建 Issue 模板呢？方法如下：</p><p>（1）在仓库根目录创建新目录 <code>.github</code></p><p>（2）在 <code>.github</code> 目录中添加 <code>ISSUE_TEMPLATE</code> 目录，在其中添加的 md 文件都会被 Github 自动识，并将其作为 issue 的默认模板。</p><p>示例，下面是携程 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2N0cmlwY29ycC9hcG9sbG8=">apollo</span> 的一个 Issue 模板，要求提问者填充 bug 描述、复现步骤、期望、截图、日志等细节。</p><p><img data-src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20210420114644.png" alt="img"></p><blockquote><p>更多模板：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3N0ZXZlbWFvL2dpdGh1Yi1pc3N1ZS10ZW1wbGF0ZXM=">Github issue_templates 模板</span></p></blockquote><h4 id="gitlab-issue-模板"><a class="anchor" href="#gitlab-issue-模板">#</a> Gitlab Issue 模板</h4><p>如何在 Gitlab Issue 平台上创建 Issue 模板呢？方法如下：</p><p>（1）在仓库根目录创建新目录 <code>.gitlab</code></p><p>（2）在 <code>.gitlab</code> 目录中添加 <code>issue_templates</code> 目录，在其中添加的 md 文件都会被 Gitlab 自动识，并将其作为 issue 的默认模板。</p><p><img data-src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20210420141838.png" alt="img"></p><blockquote><p>更多模板：<span class="exturl" data-url="aHR0cHM6Ly9naXRsYWIuY29tL2dpdGxhYi1vcmcvZ2l0bGFiLy0vdHJlZS9tYXN0ZXIvLmdpdGxhYi9pc3N1ZV90ZW1wbGF0ZXM=">Gitlab 官方 issue_templates 模板</span></p></blockquote><h3 id="git-hook"><a class="anchor" href="#git-hook">#</a> Git Hook</h3><p>在执行提交代码（git commit），推送代码（git push）等行为时，我们可能希望做一些代码检查性工作，例如：代码 lint 检查、代码格式化等。当检查发现代码存在问题时，就拒绝代码提交，从而保证项目质量。</p><p>Git 提供了 Git Hook 机制，允许使用者在特定的重要动作发生时触发自定义脚本。有两类钩子：客户端钩子和服务器端钩子。客户端钩子由诸如提交和合并等操作所触发调用，而服务器端钩子作用于诸如接收被推送的提交这样的联网操作。钩子都被存储在 Git 项目目录下的 <code>.git/hooks</code> 子目录中。Git 在这个目录下放置了一些示例，这些示例的名字都是以 <code>.sample</code> 结尾，如果想启用它们，得先移除这个后缀。</p><p>常用的客户端钩子：</p><ul><li><code>pre-commit</code> 钩子：在提交信息前运行。 它用于检查即将提交的快照，例如，检查是否有所遗漏，确保测试运行，以及核查代码。 如果该钩子以非零值退出，Git 将放弃此次提交，不过你可以用 <code>git commit --no-verify</code> 来绕过这个环节。 你可以利用该钩子，来检查代码风格是否一致（运行类似 <code>lint</code> 的程序）、尾随空白字符是否存在（自带的钩子就是这么做的），或新方法的文档是否适当。</li><li><code>prepare-commit-msg</code> 钩子：在启动提交信息编辑器之前，默认信息被创建之后运行。 它允许你编辑提交者所看到的默认信息。 该钩子接收一些选项：存有当前提交信息的文件的路径、提交类型和修补提交的提交的 SHA-1 校验。 它对一般的提交来说并没有什么用；然而对那些会自动产生默认信息的提交，如提交信息模板、合并提交、压缩提交和修订提交等非常实用。 你可以结合提交模板来使用它，动态地插入信息。</li><li><code>commit-msg</code> 钩子：接收一个参数，此参数即上文提到的，存有当前提交信息的临时文件的路径。 如果该钩子脚本以非零值退出，Git 将放弃提交，因此，可以用来在提交通过前验证项目状态或提交信息。 在本章的最后一节，我们将展示如何使用该钩子来核对提交信息是否遵循指定的模板。</li><li><code>post-commit</code> 钩子：在整个提交过程完成后运行。它不接收任何参数，但你可以很容易地通过运行 <code>git log -1 HEAD</code> 来获得最后一次的提交信息。 该钩子一般用于通知之类的事情。</li><li><code>pre-push</code> 钩子：会在 <code>git push</code> 运行期间， 更新了远程引用但尚未传送对象时被调用。 它接受远程分支的名字和位置作为参数，同时从标准输入中读取一系列待更新的引用。 你可以在推送开始之前，用它验证对引用的更新操作（一个非零的退出码将终止推送过程）。</li></ul><h4 id="javascript-应用-git-hook"><a class="anchor" href="#javascript-应用-git-hook">#</a> Javascript 应用 Git Hook</h4><p>想在 JavaScript 应用中使用 Git Hook，推荐使用 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R5cGljb2RlL2h1c2t5">husky</span> ，可以很方便的编写钩子处理命令。</p><p>使用方法很简单，先安装 husky</p><pre><code>npm i -D husky
</code></pre><p>然后，在 package.json 中添加配置：</p><figure class="highlight json"><figcaption data-lang="JSON"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token property">"husky"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token property">"hooks"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token property">"pre-commit"</span><span class="token operator">:</span> <span class="token string">"lint-staged"</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token property">"lint-staged"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token property">"src/**/*.&#123;js,vue&#125;"</span><span class="token operator">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token string">"eslint --fix"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token string">"git add"</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token punctuation">]</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr></table></figure><p>以上配置的作用是，当提交代码前（ <code>pre-commit</code> ），先执行 <code>lint-staged</code> ；</p><p><code>lint-staged</code> 中执行的动作是，对 src 目录的所有 js、vue 文件进行 eslint 检查，并尝试修复。如果修复后没有问题，就 git add 添加修改后的文件；如果修复失败，则拒绝提交代码。</p><h2 id="参考资料"><a class="anchor" href="#参考资料">#</a> 参考资料</h2><ul><li><strong>官方资源</strong><ul><li><span class="exturl" data-url="aHR0cHM6Ly9naXQtc2NtLmNvbS8=">Git 官网</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2dpdC9naXQ=">Git Github</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9ndWlkZXMuZ2l0aHViLmNvbS8=">Github 官方教程</span></li></ul></li><li><strong>模板</strong><ul><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2dpdGh1Yi9naXRpZ25vcmU=">gitignore 模板</span> - .gitignore 文件模板</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FsZXhrYXJhdGFyYWtpcy9naXRhdHRyaWJ1dGVz">gitattributes 模板</span> - .gitattributes 文件模板</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RpaW1ncmVlbi9naXRodWItY2hlYXQtc2hlZXQ=">github-cheat-sheet</span> - git 命令简略图表</li></ul></li><li><strong>Git 教程</strong><ul><li><span class="exturl" data-url="aHR0cHM6Ly9sZWFybmdpdGJyYW5jaGluZy5qcy5vcmcv">Learn Git branching</span> - 交互式教程</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXQtc2NtLmNvbS9ib29rL3poL3Yy">Git 官方推荐教程</span> - Scott Chacon 的 Git 书。<ul><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2s4OGh1ZHNvbi9naXQtZmxpZ2h0LXJ1bGVz">git-flight-rules</span></li></ul></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tLzUyMXh1ZXdlaWhhbi9naXQtdGlwcw==">git-tips</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2dlZWVlZWVlZWVrL2dpdC1yZWNpcGVz">Git 中文教程</span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cubGlhb3h1ZWZlbmcuY29tL3dpa2kvMDAxMzczOTUxNjMwNTkyOTYwNmRkMTgzNjEyNDg1NzhjNjdiODA2N2M4YzAxN2IwMDA=">廖雪峰的 Git 教程</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hpcm9uZy9teS1naXQ=">有关 git 的学习资源</span></li></ul></li><li><strong>文章</strong><ul><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2s4OGh1ZHNvbi9naXQtZmxpZ2h0LXJ1bGVzL2Jsb2IvbWFzdGVyL1JFQURNRV96aC1DTi5tZA==">Git Cookbook</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tLzUyMXh1ZXdlaWhhbi9naXQtdGlwcw==">Git 奇技淫巧</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FzZWFkYXkvZ2l0LXN0eWxlLWd1aWRl">Git 风格指南</span></li><li><span class="exturl" data-url="aHR0cDovL3d3dy5jbmJsb2dzLmNvbS9jbmJsb2dzZmFucy9wLzUwNzUwNzMuaHRtbA==">Git 在团队中的最佳实践 -- 如何正确使用 Git Flow</span></li><li><span class="exturl" data-url="aHR0cDovL3d3dy5ydWFueWlmZW5nLmNvbS9ibG9nLzIwMTYvMDEvY29tbWl0X21lc3NhZ2VfY2hhbmdlX2xvZy5odG1s">Commit message 和 Change log 编写指南</span></li></ul></li><li><strong>Git 工具</strong><ul><li><span class="exturl" data-url="aHR0cHM6Ly9naXQtc2NtLmNvbS9kb3dubG9hZHMvZ3Vpcw==">guis</span> - Git 官网展示的客户端工具列表。</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2dvZ2l0cy9nb2dz">gogs</span> - 极易搭建的自助 Git 服务。</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL252aWUvZ2l0Zmxvdw==">gitflow</span> - 应用 <span class="exturl" data-url="aHR0cDovL252aWUuY29tL3Bvc3RzL2Etc3VjY2Vzc2Z1bC1naXQtYnJhbmNoaW5nLW1vZGVsLw==">fit-flow</span> 模型的工具。</li><li><span class="exturl" data-url="aHR0cDovL2ZpcnN0YWlkZ2l0LmlvLw==">firstaidgit.io</span> 一个可搜索的最常被问到的 Git 的问题</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3VuaXhvcm4vZ2l0LWV4dHJhLWNvbW1hbmRz">git-extra-commands</span> - 一堆有用的额外的 Git 脚本</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RqL2dpdC1leHRyYXM=">git-extras</span> - GIT 工具集 -- repo summary, repl, changelog population, author commit percentages and more</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3F3M3J0bWFuL2dpdC1maXJl">git-fire</span> - git-fire 是一个 Git 插件，用于帮助在紧急情况下添加所有当前文件，做提交 (committing), 和推 (push) 到一个新分支 (阻止合并冲突)。</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2dpdC10aXBzL3RpcHM=">git-tips</span> - Git 小提示</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL09yaWdpbmF0ZS9naXQtdG93bg==">git-town</span> - 通用，高级 Git 工作流支持！</li></ul></li><li><strong>GUI 客户端</strong><ul><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuZ2l0a3Jha2VuLmNvbS8=">GitKraken</span> - 豪华的 Git 客户端 Windows, Mac &amp; Linux</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXQtY29sYS5naXRodWIuaW8v">git-cola</span> - 另外一个 Git 客户端 Windows &amp; OS X</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2dpdC11cC9HaXRVcA==">GitUp</span> - 一个新的 Git 客户端，在处理 Git 的复杂性上有自己的特点</li><li><span class="exturl" data-url="aHR0cHM6Ly9yb3dhbmouZ2l0aHViLmlvL2dpdHgv">gitx-dev</span> - 图形化的 Git 客户端 OS X</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuc291cmNldHJlZWFwcC5jb20v">Source Tree</span> - 免费的图形化 Git 客户端 Windows &amp; OS X</li><li><span class="exturl" data-url="aHR0cDovL3d3dy5naXQtdG93ZXIuY29tLw==">Tower</span> - 图形化 Git 客户端 OS X (付费)</li></ul></li><li><strong>git cheat sheet</strong><ul><li><span class="exturl" data-url="aHR0cHM6Ly9zZXJ2aWNlcy5naXRodWIuY29tL29uLWRlbWFuZC9kb3dubG9hZHMvZ2l0aHViLWdpdC1jaGVhdC1zaGVldC5wZGY=">github-git-cheat-sheet</span></li></ul></li></ul><div class="tags"><a href="/tags/Git/" rel="tag"><i class="ic i-tag"></i> Git</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-01-12 11:13:53" itemprop="dateModified" datetime="2023-01-12T11:13:53+08:00">2023-01-12</time> </span><span id="posts/f34ad4cd/" class="item leancloud_visitors" data-flag-title="如何优雅的玩转 Git" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Metal-Heart 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="Metal-Heart 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="Metal-Heart 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Metal-Heart <i class="ic i-at"><em>@</em></i>北海虽赊，扶摇可接</li><li class="link"><strong>本文链接：</strong> <a href="https://metal-heart.github.io/posts/f34ad4cd/" title="如何优雅的玩转 Git">https://metal-heart.github.io/posts/f34ad4cd/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/posts/d3b2b8db/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;s1.ax1x.com&#x2F;2023&#x2F;01&#x2F;09&#x2F;&#x2F;pSZvMIf.jpg" title="线性表的排序"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 线性表</span><h3>线性表的排序</h3></a></div><div class="item right"><a href="/posts/fab451a5/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;s1.ax1x.com&#x2F;2023&#x2F;01&#x2F;09&#x2F;&#x2F;pSZv4JO.png" title="堆"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 树</span><h3>堆</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%8E%A9%E8%BD%AC-git"><span class="toc-number">1.</span> <span class="toc-text">如何优雅的玩转 Git</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#git-%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.</span> <span class="toc-text">Git 简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#git-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.1.1.</span> <span class="toc-text">Git 是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6"><span class="toc-number">1.1.2.</span> <span class="toc-text">什么是版本控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%86%E4%B8%AD%E5%8C%96%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">集中化的版本控制系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">分布式版本控制系统</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8-git"><span class="toc-number">1.1.3.</span> <span class="toc-text">为什么使用 Git</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.1.4.</span> <span class="toc-text">Git 的工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E5%BA%93"><span class="toc-number">1.1.4.1.</span> <span class="toc-text">版本库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E5%80%BC"><span class="toc-number">1.1.4.2.</span> <span class="toc-text">哈希值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%8A%B6%E6%80%81"><span class="toc-number">1.1.4.3.</span> <span class="toc-text">文件状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%9F%9F"><span class="toc-number">1.1.4.4.</span> <span class="toc-text">工作区域</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86"><span class="toc-number">1.2.</span> <span class="toc-text">分支管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#git-flow"><span class="toc-number">1.2.1.</span> <span class="toc-text">Git Flow</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#21-%E4%B8%BB%E5%B9%B2%E5%88%86%E6%94%AF"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">2.1. 主干分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-feature-%E5%88%86%E6%94%AF"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">2.2. feature 分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#23-release-%E5%88%86%E6%94%AF"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">2.3. release 分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#24-hotfix-%E5%88%86%E6%94%AF"><span class="toc-number">1.2.1.4.</span> <span class="toc-text">2.4. hotfix 分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#25-%E5%A6%82%E4%BD%95%E5%BA%94%E7%94%A8-git-flow"><span class="toc-number">1.2.1.5.</span> <span class="toc-text">2.5. 如何应用 Git Flow</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#github-flow"><span class="toc-number">1.2.2.</span> <span class="toc-text">Github Flow</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-commit-%E8%A7%84%E8%8C%83"><span class="toc-number">1.3.</span> <span class="toc-text">Git Commit 规范</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#commit-message-%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.3.1.</span> <span class="toc-text">Commit message 的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#commit-message-%E7%9A%84%E8%A7%84%E8%8C%83"><span class="toc-number">1.3.2.</span> <span class="toc-text">Commit message 的规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-commit-template"><span class="toc-number">1.3.3.</span> <span class="toc-text">Git Commit Template</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90-change-log"><span class="toc-number">1.3.4.</span> <span class="toc-text">生成 Change log</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7"><span class="toc-number">1.4.</span> <span class="toc-text">Git 奇技淫巧</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90-ssh-%E5%85%AC%E9%92%A5"><span class="toc-number">1.4.1.</span> <span class="toc-text">生成 SSH 公钥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-gitignore-%E5%BF%BD%E7%95%A5%E4%B8%8D%E5%BF%85%E6%8F%90%E4%BA%A4%E5%86%85%E5%AE%B9"><span class="toc-number">1.4.2.</span> <span class="toc-text">使用 .gitignore 忽略不必提交内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-gitattributes-%E8%A7%A3%E5%86%B3-lf-%E5%92%8C-crlf-%E9%97%AE%E9%A2%98"><span class="toc-number">1.4.3.</span> <span class="toc-text">使用 .gitattributes 解决 LF 和 CRLF 问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%97%B6%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%E5%88%B0%E4%B8%8D%E5%90%8C%E7%9A%84%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-number">1.4.4.</span> <span class="toc-text">同时提交代码到不同的远程仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#github-issue-%E5%92%8C-gitlab-issue"><span class="toc-number">1.4.5.</span> <span class="toc-text">Github Issue 和 Gitlab Issue</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#github-issue-%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.4.5.1.</span> <span class="toc-text">Github Issue 模板</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#gitlab-issue-%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.4.5.2.</span> <span class="toc-text">Gitlab Issue 模板</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-hook"><span class="toc-number">1.4.6.</span> <span class="toc-text">Git Hook</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#javascript-%E5%BA%94%E7%94%A8-git-hook"><span class="toc-number">1.4.6.1.</span> <span class="toc-text">Javascript 应用 Git Hook</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">1.5.</span> <span class="toc-text">参考资料</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/posts/f34ad4cd/" rel="bookmark" title="如何优雅的玩转 Git">如何优雅的玩转 Git</a></li><li><a href="/posts/5c24f267/" rel="bookmark" title="Git帮助手册">Git帮助手册</a></li><li><a href="/posts/27650/" rel="bookmark" title="《Git知识点整理》">《Git知识点整理》</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Metal-Heart" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Metal-Heart</p><div class="description" itemprop="description">老实是人生绝妙的法宝。虽然对人老实，你可能付出一定的代价，但日后你得到的，远比付出的多得多。</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">42</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">19</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">54</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL01ldGFsLUhlYXJ0Lw==" title="https:&#x2F;&#x2F;github.com&#x2F;Metal-Heart&#x2F;"><i class="ic i-github"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPXlvdXJpZA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;yourid"><i class="ic i-cloud-music"></i></span> <span class="exturl item about" data-url="aHR0cDovL2xvY2FsaG9zdDo0MDAwL2Fib3V0Lw==" title="http:&#x2F;&#x2F;localhost:4000&#x2F;about&#x2F;"><i class="ic i-address-card"></i></span> <span class="exturl item email" data-url="bWFpbHRvOm1ldGFsaGVhcnRoQGFsaXl1bi5jb20=" title="mailto:metalhearth@aliyun.com"><i class="ic i-envelope"></i></span> <span class="exturl item instagram" data-url="aHR0cHM6Ly9vc2h3aHViLmNvbS9pY2VpY2VpY2U=" title="https:&#x2F;&#x2F;oshwhub.com&#x2F;iceiceice"><i class="ic i-instagram"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友達</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>其他</a><ul class="submenu"><li class="item"><a href="https://metal-heart.github.io/mikutap/" rel="section"><i class="ic i-magic"></i>链接</a></li><li class="item"><a href="/census/" rel="section"><i class="ic i-user"></i>博客统计</a></li></ul></li><li class="item"><a href="/statistics/" rel="section"><i class="ic i-list-alt"></i>文章统计</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/posts/d3b2b8db/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/posts/fab451a5/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/work/" title="分类于 工作">工作</a> <i class="ic i-angle-right"></i> <a href="/categories/work/efficiency/" title="分类于 工作效率">工作效率</a></div><span><a href="/posts/37138/" title="代码工程规范">代码工程规范</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Software/" title="分类于 软件">软件</a> <i class="ic i-angle-right"></i> <a href="/categories/Software/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/" title="分类于 数据结构和算法">数据结构和算法</a> <i class="ic i-angle-right"></i> <a href="/categories/Software/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/%E7%BA%BF%E6%80%A7%E8%A1%A8/" title="分类于 线性表">线性表</a></div><span><a href="/posts/50ba53aa/" title="数组和链表">数组和链表</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/work/" title="分类于 工作">工作</a> <i class="ic i-angle-right"></i> <a href="/categories/work/efficiency/" title="分类于 工作效率">工作效率</a></div><span><a href="/posts/35174/" title="个人目录管理规范">个人目录管理规范</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Software/" title="分类于 软件">软件</a> <i class="ic i-angle-right"></i> <a href="/categories/Software/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/" title="分类于 数据结构和算法">数据结构和算法</a> <i class="ic i-angle-right"></i> <a href="/categories/Software/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/%E6%A0%91/" title="分类于 树">树</a></div><span><a href="/posts/17426722/" title="B+树">B+树</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Tool/" title="分类于 工具">工具</a> <i class="ic i-angle-right"></i> <a href="/categories/Tool/Linux/" title="分类于 Linux">Linux</a></div><span><a href="/posts/62570/" title="《常用shell命令整理之操作文件和目录2》">《常用shell命令整理之操作文件和目录2》</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Tool/" title="分类于 工具">工具</a> <i class="ic i-angle-right"></i> <a href="/categories/Tool/Git/" title="分类于 Git">Git</a></div><span><a href="/posts/5c24f267/" title="Git帮助手册">Git帮助手册</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Software/" title="分类于 软件">软件</a> <i class="ic i-angle-right"></i> <a href="/categories/Software/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/" title="分类于 数据结构和算法">数据结构和算法</a> <i class="ic i-angle-right"></i> <a href="/categories/Software/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/%E7%BA%BF%E6%80%A7%E8%A1%A8/" title="分类于 线性表">线性表</a></div><span><a href="/posts/d3b2b8db/" title="线性表的排序">线性表的排序</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Software/" title="分类于 软件">软件</a> <i class="ic i-angle-right"></i> <a href="/categories/Software/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/" title="分类于 数据结构和算法">数据结构和算法</a> <i class="ic i-angle-right"></i> <a href="/categories/Software/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/%E6%A0%91/" title="分类于 树">树</a></div><span><a href="/posts/dd5c0739/" title="树和二叉树">树和二叉树</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/work/" title="分类于 工作">工作</a> <i class="ic i-angle-right"></i> <a href="/categories/work/Workplace/" title="分类于 职场">职场</a></div><span><a href="/posts/59766/" title="《职场求生攻略》">《职场求生攻略》</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Software/" title="分类于 软件">软件</a> <i class="ic i-angle-right"></i> <a href="/categories/Software/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/" title="分类于 数据结构和算法">数据结构和算法</a> <i class="ic i-angle-right"></i> <a href="/categories/Software/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/%E6%A0%91/" title="分类于 树">树</a></div><span><a href="/posts/fab451a5/" title="堆">堆</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Metal-Heart @ Metalheart</span></div><div class="count"><span id="sitetime"></span> <span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">172k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">2:37</span></div><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="count"><span id="sitetime"></span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span> <span class="post-meta-divider">|</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span id="busuanzi_container_site_uv">本站访客数<span id="busuanzi_value_site_uv"></span>人次</span></div><div class="powered-by"><tr><td><a href="https://www.foreverblog.cn/" target="_blank"><img src="https://img.foreverblog.cn/logo_en_default.png" alt="" style="width:auto;height:32px" title=" 十年之约"></a></td><td><a href="https://www.foreverblog.cn/go.html" target="_blank"><img src="https://img.foreverblog.cn/wormhole_1.gif" alt="" style="width:auto;height:32px" title="穿梭虫洞-随机访问十年之约友链博客"></a></td><td><a href="https://icp.gov.moe/?keyword=20238998" target="_blank"><img src="https://icp.gov.moe/images/ico64.png" alt="" style="width:auto;height:32px" 萌icp备20238998号></a></td></tr></div></div><script language="javascript">function siteTime(){window.setTimeout("siteTime()",1e3);var e=1e3,t=60*e,o=60*t,i=24*o,a=365*i,n=new Date,r=n.getFullYear(),l=n.getMonth()+1,s=n.getDate(),M=n.getHours(),g=n.getMinutes(),m=n.getSeconds(),T=Date.UTC(2020,10,10,0,0,0),f=Date.UTC(r,l,s,M,g,m),h=f-T,u=Math.floor(h/a),d=Math.floor(h/i-365*u),D=Math.floor((h-(365*u+d)*i)/o),c=Math.floor((h-(365*u+d)*i-D*o)/t),w=Math.floor((h-(365*u+d)*i-D*o-c*t)/e);document.getElementById("sitetime").innerHTML="本站已勉强运行 "+u+" 年 "+d+" 天 "+D+" 小时 "+c+" 分钟 "+w+" 秒"}siteTime()</script></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"posts/f34ad4cd/",favicon:{show:"（●´3｀●）HI~HI~",hide:"(´Д｀)浏览器崩溃了！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js,npm/echarts@5.2.2/dist/echarts.min.js"></script><script src="/js/app.js?v=0.2.5"></script><script data-pjax>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?dcc6c1ac79cee4ce079664303af25296";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,log:!1,model:{jsonPath:"/live2dw/assets/z16.model.json"},display:{position:"left",width:150,height:300,hoffset:200,voffset:0},mobile:{show:!0},react:{opacity:.7},dialog:{enable:!0,hitokoto:!0}})</script></body></html>